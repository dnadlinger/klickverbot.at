<!doctype html> <html lang=en> <head> <meta charset=utf-8> <link rel=stylesheet href='/css/250adbc.css'> <title>D/Thrift – GSoC 2011 | David Nadlinger</title> <meta name=viewport content="width=device-width; initial-scale=1.0"> <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML'></script> <link rel="openid.server" href="http://openid.klickverbot.at/"/> <link rel="openid2.provider" href="http://openid.klickverbot.at/"/> </head> <body> <header id=main_header> <h1><span><a href="/">David Nadlinger</a></span></h1> <nav role=navigation> <ul> <li><a href="/blog">Blog</a></li> <li><a href="/code">Code</a></li> <li><a href="/about">About</a></li> </ul> </nav> </header> <div role=main id=main_content> <div class=article> <header> <ul class=catnav> <li><a href="/code/d4">d4</a></li> <li><a href="/code/ldc">LDC</a></li> </ul> </header> <div class=content><h1 id=gsoc-2011-an-apache-thrift-implementation-ford>GSoC 2011: An Apache Thrift implementation for D</h1> <p class=lead>I was lucky enough to be selected to participate in the <a href="http://www.google-melange.com/gsoc/homepage/google/gsoc2011">Google Summer of Code</a> program this year under the umbrella of <a href="http://www.google-melange.com/gsoc/org/google/gsoc2011/dprogramminglanguage">Digital Mars</a>, during the course of which I worked on an implementation of the <a href="http://thrift.apache.org/">Apache Thrift</a> framework for/in the <a href="http://d-programming-language.org/">D programming language</a>.</p> <p>The source code is available at <a href="https://github.com/dnadlinger/thrift/tree/d-gsoc">my GitHub Thrift fork</a>. The <a href="https://github.com/dnadlinger/thrift/wiki">GitHub repository wiki</a> has some documentation that would go to the Thrift wiki if my work was merged upstream (including a <a href="https://github.com/dnadlinger/thrift/wiki/Getting-Started-with-Thrift-and-D">Getting Started</a> page), and a <a href="/code/gsoc/thrift/docs/">DDoc build</a> is available as well.</p> <p>You can find the original project proposal on <a href="http://www.google-melange.com/gsoc/proposal/review/google/gsoc2011/klickverbot/1">Google Melange</a>, although the comments are not publicly accessible.</p> <h2 id=current-status>Current Status</h2> <p>The official Google Summer of Code term ended on August 22, and I was able to complete the project successfully. However, contrary to the original plans, D support has not been merged to upstream yet due to a few remaining issues, which have been resolved in the development versions of the D compiler. This is the current status of the test suite (based on Thrift <a href="https://github.com/dnadlinger/thrift/commit/efce47fca54c6818be9f491cbc6bc58525bae3f1">efce47fc</a>, DMD 2.058):</p> <figure> <table class=firstname> <thead> <tr> <th></th> <th>Unit tests</th> <th>Standalone tests</th> </tr> </thead> <tbody> <tr> <td>Linux x86 (DMD 2.058)</td> <td class=pass>pass</td> <td class=pass>pass</td> </tr> <tr> <td>Linux x86_84 (DMD 2.058)</td> <td class=pass>pass</td> <td class=pass>pass</td> </tr> <tr> <td>OS X x86 (DMD 2.058)</td> <td class=pass>pass</td> <td class=pass>pass</td> </tr> <tr> <td>OS X x86_64 (DMD 2.058)</td> <td class=pass>pass</td> <td class=pass>pass</td> </tr> <tr> <td>Windows x86 (DMD 2.058)</td> <td class=pass>pass</td> <td class=pass>pass</td> </tr> </tbody> </table> </figure> <p>GDC and LDC <em>should</em> work just as well (provided that they are using a recent frontend), but have not been tested yet.</p> <p>Assorted todo list (of items not really necessary to complete before kicking off the upstream merge):</p> <ul> <li>Paint the API <code>@safe</code> (and <code>pure</code>/<code>nothrow</code> in the few places where they are applicable).</li> <li>Some multi-threaded test cases can hang forever instead of exiting on failure.</li> </ul> <p>Please free to contact me for any related questions.</p> </div> </div> </div> <footer id=main_footer> <ul> <li><a class=twitter href="//twitter.com/dnadlinger">Follow me on Twitter</a></li> <li><a class=mail href="/about">Contact me</a></li> <li><a class=rss href="/blog/atom.xml">Blog feed</a></li> </ul> </footer> </body> </html>