<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>thrift.codegen.client</title>
  <link href="css/docstyle.css" rel="stylesheet" type="text/css"/>
  <!-- no favicon -->
  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/utilities.js"></script>
  <script type="text/javascript" src="js/symbols.js"></script>
  <script type="text/javascript" src="js/modules.js"></script>
  <script type="text/javascript" src="js/quicksearch.js"></script>
  <script type="text/javascript" src="js/treeview.js"></script>
  <script type="text/javascript" src="js/navigation.js"></script>
</head>
<body id="thrift.codegen.client">
<div id="kandil-content">
<div class="module">
  <h1 class="module" id="m-thrift.codegen.client"><a href="htmlsrc/thrift.codegen.client.html" class="symbol">thrift.codegen.client</a></h1>

<dl>
<dt class="decl"><span class="kw">interface</span> <a class="symbol _interface" name="TClientBase" href="htmlsrc/thrift.codegen.client.html#L65">TClientBase</a><span class="tparams">(<em>Interface</em>)</span> : <span class="bclass">Interface</span> <a href="thrift.codegen.client.html#TClientBase" class="plink">¶</a></dt>
<dt class="decl"><span class="kw">interface</span> <a class="symbol _interface" name="TClientBase:2" href="htmlsrc/thrift.codegen.client.html#L78">TClientBase</a><span class="tparams">(<em>Interface</em>)</span> : <span class="bclass">TClientBase!(BaseService!Interface)</span>, <span class="bclass">Interface</span> <a href="thrift.codegen.client.html#TClientBase:2" class="plink">¶</a></dt>
<dt class="decl"><span class="kw">template</span> <a class="symbol _template" name="TClient" href="htmlsrc/thrift.codegen.client.html#L82">TClient</a><span class="tparams">(<em>Interface</em>, <em>InputProtocol</em> = <span class="defval">TProtocol</span>, <em>OutputProtocol</em> = <span class="defval">void</span>)</span> <a href="thrift.codegen.client.html#TClient" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">Thrift service client, which implements an interface by synchronously
 calling a server over a TProtocol.</div></div>
<div class="cmnt">TClientBase simply extends Interface with generic input/output protocol
 properties to serve as a supertype for all TClients for the same service,
 which might be instantiated with different concrete protocol types (there
 is no covariance for template type parameters). If Interface is derived
 from another interface BaseInterface, it also extends
 TClientBase!BaseInterface.
<p class="bl"></p>
 TClient is the class that actually implements TClientBase. Just as
 TClientBase, it is also derived from TClient!BaseInterface for inheriting
 services.
<p class="bl"></p>
 TClient takes two optional template arguments which can be used for
 specifying the actual TProtocol implementation used for optimization
 purposes, as virtual calls can completely be eliminated then. If
 OutputProtocol is not specified, it is assumed to be the same as
 InputProtocol. The protocol properties defined by TClientBase are exposed
 with their concrete type (return type covariance).
<p class="bl"></p>
 In addition to implementing TClientBase!Interface, TClient offers the
 following constructors:
 <table class="d_code">
  <tr><td class="d_codelines">
<pre><a href="#L1_ex1" name="L1_ex1">1</a>
<a href="#L2_ex1" name="L2_ex1">2</a>
<a href="#L3_ex1" name="L3_ex1">3</a>
<a href="#L4_ex1" name="L4_ex1">4</a>
</pre></td><td class="d_codetext"><pre>
<span class="k">this</span>(<span class="i">InputProtocol</span> <span class="i">iprot</span>, <span class="i">OutputProtocol</span> <span class="i">oprot</span>);
<span class="lc">// Only if is(InputProtocol == OutputProtocol), to use the same protocol</span>
<span class="lc">// for both input and output:</span>
<span class="k">this</span>(<span class="i">InputProtocol</span> <span class="i">prot</span>);</pre>
</td></tr>
</table>
<p class="bl"></p>
 The sequence id of the method calls starts at zero and is automatically
 incremented.</div>
<dl>
<dt class="decl"><span class="rettyp">TProtocol</span> <a class="symbol _function" name="TClientBase.inputProtocol" href="htmlsrc/thrift.codegen.client.html#L69">inputProtocol</a><span class="params">()</span> <span class="attrs">[<span class="stc">@property</span>]</span> <a href="thrift.codegen.client.html#TClientBase.inputProtocol" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">The input protocol used by the client.</div></div></dd>
<dt class="decl"><span class="rettyp">TProtocol</span> <a class="symbol _function" name="TClientBase.outputProtocol" href="htmlsrc/thrift.codegen.client.html#L74">outputProtocol</a><span class="params">()</span> <span class="attrs">[<span class="stc">@property</span>]</span> <a href="thrift.codegen.client.html#TClientBase.outputProtocol" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">The output protocol used by the client.</div></div></dd></dl></dd>
<dt class="decl"><span class="rettyp">TClient!(Interface, Prot)</span> <a class="symbol _function" name="tClient" href="htmlsrc/thrift.codegen.client.html#L261">tClient</a><span class="tparams">(<em>Interface</em>, <em>Prot</em>)</span><span class="params">(Prot <em>prot</em>)</span> <a href="thrift.codegen.client.html#tClient" class="plink">¶</a></dt>
<dt class="decl"><span class="rettyp">TClient!(Interface, IProt, Oprot)</span> <a class="symbol _function" name="tClient:2" href="htmlsrc/thrift.codegen.client.html#L268">tClient</a><span class="tparams">(<em>Interface</em>, <em>IProt</em>, <em>OProt</em>)</span><span class="params">(IProt <em>iprot</em>, OProt <em>oprot</em>)</span> <a href="thrift.codegen.client.html#tClient:2" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">TClient construction helper to avoid having to explicitly specify
 the protocol types, i.e. to allow the constructor being called using IFTI
 (see <a href="http://d.puremagic.com/issues/show_bug.cgi?id=6082">D Bugzilla enhancement requet 6082</a>).</div></div></dd>
<dt class="decl"><span class="kw">template</span> <a class="symbol _template" name="TPargsStruct" href="htmlsrc/thrift.codegen.client.html#L307">TPargsStruct</a><span class="tparams">(<em>Interface</em>, string <em>methodName</em>)</span> <a href="thrift.codegen.client.html#TPargsStruct" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">Represents the arguments of a Thrift method call, as pointers to the (const)
 parameter type to avoid copying.</div></div>
<div class="cmnt">There should usually be no reason to use this struct directly without the
 help of TClient, but it is documented publicly to help debugging in case
 of CTFE errors.
<p class="bl"></p>
 Consider this example:
 <table class="d_code">
  <tr><td class="d_codelines">
<pre><a href="#L1_ex2" name="L1_ex2">1</a>
<a href="#L2_ex2" name="L2_ex2">2</a>
<a href="#L3_ex2" name="L3_ex2">3</a>
<a href="#L4_ex2" name="L4_ex2">4</a>
<a href="#L5_ex2" name="L5_ex2">5</a>
<a href="#L6_ex2" name="L6_ex2">6</a>
<a href="#L7_ex2" name="L7_ex2">7</a>
<a href="#L8_ex2" name="L8_ex2">8</a>
<a href="#L9_ex2" name="L9_ex2">9</a>
</pre></td><td class="d_codetext"><pre>
<span class="k">interface</span> <span class="i">Foo</span> {
  <span class="k">int</span> <span class="i">bar</span>(<span class="i">string</span> <span class="i">a</span>, <span class="k">bool</span> <span class="i">b</span>);

  <span class="k">enum</span> <span class="i">methodMeta</span> = [
    <span class="i">TMethodMeta</span>(<span class="sl">"bar"</span>, [<span class="i">TParamMeta</span>(<span class="sl">"a"</span>, <span class="n">1</span>), <span class="i">TParamMeta</span>(<span class="sl">"b"</span>, <span class="n">2</span>)])
  ];
}

<span class="k">alias</span> <span class="i">TPargsStruct</span>!(<span class="i">Foo</span>, <span class="sl">"bar"</span>) <span class="i">FooBarPargs</span>;</pre>
</td></tr>
</table>
<p class="bl"></p>
 The definition of FooBarPargs is equivalent to (ignoring the necessary
 metadata to assign the field IDs):
 <table class="d_code">
  <tr><td class="d_codelines">
<pre><a href="#L1_ex3" name="L1_ex3">1</a>
<a href="#L2_ex3" name="L2_ex3">2</a>
<a href="#L3_ex3" name="L3_ex3">3</a>
<a href="#L4_ex3" name="L4_ex3">4</a>
<a href="#L5_ex3" name="L5_ex3">5</a>
<a href="#L6_ex3" name="L6_ex3">6</a>
</pre></td><td class="d_codetext"><pre>
<span class="k">struct</span> <span class="i">FooBarPargs</span> {
  <span class="k">const</span>(<span class="i">string</span>)* <span class="i">a</span>;
  <span class="k">const</span>(<span class="k">bool</span>)* <span class="i">b</span>;

  <span class="k">void</span> <span class="i">write</span>(<span class="i">Protocol</span>)(<span class="i">Protocol</span> <span class="i">proto</span>) <span class="k">const</span> <span class="k">if</span> (<span class="i">isTProtocol</span>!<span class="i">Protocol</span>);
}</pre>
</td></tr>
</table></div>
</dd>
<dt class="decl"><span class="kw">template</span> <a class="symbol _template" name="TPresultStruct" href="htmlsrc/thrift.codegen.client.html#L409">TPresultStruct</a><span class="tparams">(<em>Interface</em>, string <em>methodName</em>)</span> <a href="thrift.codegen.client.html#TPresultStruct" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">Represents the result of a Thrift method call, using a pointer to the return
 value to avoid copying.</div></div>
<div class="cmnt">There should usually be no reason to use this struct directly without the
 help of TClient, but it is documented publicly to help debugging in case
 of CTFE errors.
<p class="bl"></p>
 Consider this example:
 <table class="d_code">
  <tr><td class="d_codelines">
<pre><a href="#L1_ex4" name="L1_ex4">1</a>
<a href="#L2_ex4" name="L2_ex4">2</a>
<a href="#L3_ex4" name="L3_ex4">3</a>
<a href="#L4_ex4" name="L4_ex4">4</a>
<a href="#L5_ex4" name="L5_ex4">5</a>
<a href="#L6_ex4" name="L6_ex4">6</a>
<a href="#L7_ex4" name="L7_ex4">7</a>
<a href="#L8_ex4" name="L8_ex4">8</a>
<a href="#L9_ex4" name="L9_ex4">9</a>
<a href="#L10_ex4" name="L10_ex4">10</a>
<a href="#L11_ex4" name="L11_ex4">11</a>
<a href="#L12_ex4" name="L12_ex4">12</a>
<a href="#L13_ex4" name="L13_ex4">13</a>
</pre></td><td class="d_codetext"><pre>
<span class="k">interface</span> <span class="i">Foo</span> {
  <span class="k">int</span> <span class="i">bar</span>(<span class="i">string</span> <span class="i">a</span>);

  <span class="k">alias</span> .<span class="i">FooException</span> <span class="i">FooException</span>;

  <span class="k">enum</span> <span class="i">methodMeta</span> = [
    <span class="i">TMethodMeta</span>(<span class="sl">"bar"</span>,
      [<span class="i">TParamMeta</span>(<span class="sl">"a"</span>, <span class="n">1</span>)],
      [<span class="i">TExceptionMeta</span>(<span class="sl">"fooe"</span>, <span class="n">1</span>, <span class="sl">"FooException"</span>)]
    )
  ];
}
<span class="k">alias</span> <span class="i">TPresultStruct</span>!(<span class="i">Foo</span>, <span class="sl">"bar"</span>) <span class="i">FooBarPresult</span>;</pre>
</td></tr>
</table>
<p class="bl"></p>
 The definition of FooBarPresult is equivalent to (ignoring the necessary
 metadata to assign the field IDs):
 <table class="d_code">
  <tr><td class="d_codelines">
<pre><a href="#L1_ex5" name="L1_ex5">1</a>
<a href="#L2_ex5" name="L2_ex5">2</a>
<a href="#L3_ex5" name="L3_ex5">3</a>
<a href="#L4_ex5" name="L4_ex5">4</a>
<a href="#L5_ex5" name="L5_ex5">5</a>
<a href="#L6_ex5" name="L6_ex5">6</a>
<a href="#L7_ex5" name="L7_ex5">7</a>
<a href="#L8_ex5" name="L8_ex5">8</a>
<a href="#L9_ex5" name="L9_ex5">9</a>
<a href="#L10_ex5" name="L10_ex5">10</a>
<a href="#L11_ex5" name="L11_ex5">11</a>
<a href="#L12_ex5" name="L12_ex5">12</a>
</pre></td><td class="d_codetext"><pre>
<span class="k">struct</span> <span class="i">FooBarPresult</span> {
  <span class="k">int</span>* <span class="i">success</span>;
  <span class="i">Foo</span>.<span class="i">FooException</span> <span class="i">fooe</span>;

  <span class="k">struct</span> <span class="i">IsSetFlags</span> {
    <span class="k">bool</span> <span class="i">success</span>;
  }
  <span class="i">IsSetFlags</span> <span class="i">isSetFlags</span>;

  <span class="k">bool</span> <span class="i">isSet</span>(<span class="i">string</span> <span class="i">fieldName</span>)() <span class="k">const</span> @<span class="i">property</span>;
  <span class="k">void</span> <span class="i">read</span>(<span class="i">Protocol</span>)(<span class="i">Protocol</span> <span class="i">proto</span>) <span class="k">if</span> (<span class="i">isTProtocol</span>!<span class="i">Protocol</span>);
}</pre>
</td></tr>
</table></div>
</dd></dl>
</div>
<div id="kandil-footer">
  <p></p>
  <p>Page generated by <a href="https://github.com/klickverbot/dil">dil</a> on Wed Feb  8 23:47:29 2012.</p>
</div>
</div>
</body>
</html>
