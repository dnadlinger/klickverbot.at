<!doctype html> <html lang=en> <head> <meta charset=utf-8> <link rel=stylesheet href='/css/250adbc.css'> <title>Installing DMD, LDC, Tango and DSSS on (K)Ubuntu Jaunty | David Nadlinger</title> <meta name=viewport content="width=device-width; initial-scale=1.0"> <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML'></script> <link rel="openid.server" href="http://openid.klickverbot.at/"/> <link rel="openid2.provider" href="http://openid.klickverbot.at/"/> </head> <body> <header id=main_header> <h1><span><a href="/">David Nadlinger</a></span></h1> <nav role=navigation> <ul> <li><a href="/blog">Blog</a></li> <li><a href="/code">Code</a></li> <li><a href="/about">About</a></li> </ul> </nav> </header> <div role=main id=main_content> <article class=blog-post> <header> <h1><a href="/blog/2009/07/installing-dmd-ldc-tango-and-dsss-on-kubuntu-jaunty/">Installing DMD, LDC, Tango and DSSS on (K)Ubuntu Jaunty</a></h1> <section class=metadata> on <time datetime="2009-07-28T00:00:00-04:00">28 Jul 2009</time> </section> <ul class=pagenav> <li><a href="/blog/2009/05/getting-kdes-clippboard-to-work-with-eclipse/">Older</a></li> <li><a href="/blog/2009/07/the-power-of-git/">Newer</a></li> </ul> </header> <div class=content> For quite a while now, I am using the <a href="http://en.wikipedia.org/wiki/D_(programming_language)">D programming language</a>, version 1 (I have not looked at D2 yet, it is said to be still rather unstable). Even though I like it very much for its syntactical quality and the language itself is reasonably mature, I must admit that setting up the toolchain correctly can still be a very cumbersome task to do, especially when you are new to D. This post describes an installation routine that should provide you with a working D development environment containing DMD, LDC, Tango and DSSS on (K)Ubuntu Jaunty. Please note that it assumes your system to be »clean« – if you have already installed any D-related software, it is probably advisable to remove it completely to prevent any problems with, for instance, stale files. <figure class=code> <div class=highlight><pre>mkdir -p ~/tmp
<span class="nb">cd</span> ~/tmp

wget http://ftp.digitalmars.com/dmd.1.050.zip
unzip dmd.1.050.zip
<span class="nb">cd </span>dmd/linux/bin/
chmod +x dmd dumpobj obj2asm rdmd
sudo cp dmd dmd.conf dumpobj obj2asm rdmd /usr/local/bin/

<span class="nb">cd</span> ~/tmp
svn co http://svn.dsource.org/projects/tango/trunk tango

<span class="nb">cd </span>tango/
sudo <span class="nv">DC</span><span class="o">=</span>dmd build/build.sh --lib-install-dir /usr/local/lib
sudo cp -rf user/object.di user/rt user/std user/tango /usr/local/include/d/

sudo su -c <span class="s1">&#39;echo -e &quot;[Environment]\nDFLAGS=-I/usr/local/include/d -defaultlib=tango-base-dmd -debuglib=tango-base-dmd -L-ltango-user-dmd -version=Tango -version=Posix&quot; &gt; /usr/local/bin/dmd.conf&#39;</span>

sudo su -c <span class="s1">&#39;echo -e &quot;# dsss\ndeb http://ppa.launchpad.net/d-language-packagers/ppa/ubuntu jaunty main&quot; &gt;&gt; /etc/apt/sources.list&#39;</span>
sudo apt-get install dsss
sudo su -c <span class="s1">&#39;echo &quot;profile=dmd-posix-tango&quot; &gt; /etc/drebuild/default&#39;</span>
</pre></div></figure> You should now be able to build your D/Tango programs with DMD and DSSS. I would suggest giving <a href="http://www.dsource.org/projects/ldc">LDC</a> at least a short glance, a fairly young compiler project which leverages <a href="http://llvm.org/">LLVM</a> as its code generating backend. It is maturing very quickly and allows you to make use of the various features the LLVM compiler infrastructure provides, the most noticeable probably being its excellent optimization routines. Fortunately, there are current binary packages available at launchpad, so all that is needed to LDC is: <figure class=code> <div class=highlight><pre>sudo su -c <span class="s1">&#39;echo -e &quot;# ldc-daily\ndeb http://ppa.launchpad.net/d-language-packagers/ppa/ubuntu karmic main\ndeb http://archive.ubuntu.com/ubuntu karmic main universe&quot; &gt;&gt; /etc/apt/sources.list&#39;</span>
sudo apt-get update

sudo apt-get install ldc-daily libtango-ldc-daily-dev

<span class="nb">cd</span> ~/tmp
wget -O ldc-posix-tango http://www.dsource.org/projects/ldc/browser/ldc-posix-tango?format<span class="o">=</span>raw
sudo su -c <span class="s1">&#39;sed &quot;s:ldc.rebuild.conf:/etc/ldc/ldc.rebuild.conf:&quot;  /etc/drebuild/ldc-posix-tango&#39;</span>

sudo su -c <span class="s1">&#39;echo &quot;profile=ldc-posix-tango&quot; &gt; /etc/drebuild/default&#39;</span>
</pre></div></figure> Note that the above commands install a daily snapshot of LDC, which I would recommend to use due to the currently fast development of LDC. In order not to break you Jaunty installation, please _*do not forget* to comment out the official »karmic« repositories_ (which contain some dependencies for [@ldc-daily@]) in your [@/etc/apt/sources.list@] and run [@apt-get update@] after the installation is completed. Both compilers are set up to use Tango, do _not_ install Tango via DSSS! If you want to switch compilers, just activate the corresponding profile in [@/etc/drebuild/default@] and do not forget to rebuild any D libraries you might have compiled and installed with the old compiler (just run [@dsss net install … @]for the ones you installed using DSSS). p(update). Since I wrote this post, Tango received yet another big structural change to its codebase (amongst other changes, the core and user libraries have been merged). Now, you should use the supplied _»bob«_ tool now to build tango. Additionally, Karmic is now stable so you might have to adapt the APT repository-related instructions. <footer> Like what you read? <a href="http://twitter.com/?status=@dnadlinger:">Let me know</a> what you think or <a href="http://twitter.com/?status=Just read »Installing DMD, LDC, Tango and DSSS on (K)Ubuntu Jaunty« by @dnadlinger: http://klickverbot.at/blog/2009/07/installing-dmd-ldc-tango-and-dsss-on-kubuntu-jaunty/">share the article</a> on Twitter. Also, there is more on <a href="/blog/tags/D/" title="View all posts tagged with »D«" rel=tag>D</a>, <a href="/blog/tags/DMD/" title="View all posts tagged with »DMD«" rel=tag>DMD</a>, <a href="/blog/tags/Kubuntu/" title="View all posts tagged with »Kubuntu«" rel=tag>Kubuntu</a>, <a href="/blog/tags/LDC/" title="View all posts tagged with »LDC«" rel=tag>LDC</a>, <a href="/blog/tags/Linux/" title="View all posts tagged with »Linux«" rel=tag>Linux</a> and <a href="/blog/tags/Tango/" title="View all posts tagged with »Tango«" rel=tag>Tango</a>. </footer> </div> </article> </div> <footer id=main_footer> <ul> <li><a class=twitter href="//twitter.com/dnadlinger">Follow me on Twitter</a></li> <li><a class=mail href="/about">Contact me</a></li> <li><a class=rss href="/blog/atom.xml">Blog feed</a></li> </ul> </footer> </body> </html>